<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AnnonsV√§n Pro ‚Äî Studio</title>
  <meta name="backend" content="https://annonsv-n.onrender.com" />
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@700;800&family=Inter:wght@400;500;600&family=Source+Serif+4:wght@500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css"/>
</head>
<body class="gradient-background">
  <div class="page-veil" aria-hidden="true"></div>

  <header class="app-header">
    <div class="brand">
      <h1 class="logo"><span>AnnonsV√§n Pro</span></h1>
      <div class="mode-switch">
        <button id="quick-sell" class="btn pill active" aria-pressed="true">Quick Sell</button>
        <button id="pro-mode" class="btn pill">Pro Mode</button>
      </div>
    </div>
    <p class="sub">Skapa annons. S√§lj snabbare.</p>
  </header>

  <main class="shell">
    <!-- Left: fields + drafts -->
    <section class="pane left">
      <div class="card">
        <div class="card-head"><h2>Annons & Utkast</h2></div>
        <div class="card-body">

          <div class="field">
            <label for="title">Titel*</label>
            <div class="input-wrap">
              <input id="title" type="text" placeholder="T.ex. ASUS RTX 3080 Ti"/>
              <button class="pill ghost" data-copy="title" title="Kopiera titel">Kopiera</button>
            </div>
          </div>

          <div class="row">
            <div class="field">
              <label for="price">Pris (SEK)*</label>
              <div class="input-wrap">
                <input id="price" type="number" inputmode="numeric" placeholder="T.ex. 4000"/>
                <button class="pill ghost" data-copy="price" title="Kopiera pris">Kopiera</button>
              </div>
            </div>
            <div class="field">
              <label for="condition">Skick*</label>
              <select id="condition">
                <option value="">V√§lj skick‚Ä¶</option>
                <option>Nytt</option>
                <option>Som nytt</option>
                <option>Mycket bra</option>
                <option>Anv√§nt</option>
              </select>
            </div>
          </div>

          <div class="divider"></div>

          <div class="row">
            <div class="field quick-hide">
              <label for="tags">Taggar</label>
              <div class="input-wrap">
                <input id="tags" type="text" placeholder="Komma-separerade"/>
                <button class="pill ghost" data-copy="tags" title="Kopiera taggar">Kopiera</button>
              </div>
              <div id="tag-chips" class="tag-chips quick-hide"></div>
              <button id="gen-tags" class="btn soft small quick-hide">Generera taggar med AI</button>
            </div>
            <div class="field pro-only">
              <label for="city">Ort (valfritt)</label>
              <input id="city" type="text" placeholder="T.ex. Stockholm"/>
            </div>
          </div>

          <div class="field pro-only">
            <label for="notes">Anm√§rkningar (valfritt)</label>
            <textarea id="notes" class="notes" placeholder="Kort fakta: originalkartong saknas, garanti kvar ‚Ä¶"></textarea>
          </div>

          <div class="divider"></div>

          <div class="field">
            <label for="description">Beskrivning*</label>
            <div class="input-wrap">
              <textarea id="description" placeholder="AI genererar h√§r ‚Ä¶"></textarea>
              <button class="pill ghost" data-copy="description" title="Kopiera beskrivning">Kopiera</button>
            </div>
            <div class="ai-group">
              <button class="btn ai primary" data-style="minimal" aria-label="AI generera minimal">AI: Minimal</button>
              <button class="btn ai primary" data-style="simple" aria-label="AI generera enkel">AI: Enkel</button>
              <button class="btn ai primary" data-style="detailed" aria-label="AI generera detaljerad">AI: Detaljerad</button>
            </div>
            <div class="ai-secondary quick-hide">
              <button class="btn soft" id="improve">F√∂rb√§ttra</button>
              <button class="btn soft" id="summarize">F√∂rkorta</button>
            </div>
          </div>

          <div class="divider"></div>

          <div class="field">
            <label for="photos">Bilder</label>
            <div id="drop" class="dropzone big">
              <input id="photos" type="file" accept="image/*" multiple/>
              <div class="drop-inner">
                <div class="drop-title">Dra & sl√§pp bilder h√§r ‚Äî eller klicka</div>
                <div class="hint">PNG/JPG, max 10 ‚Ä¢ komprimeras automatiskt</div>
              </div>
              <!-- Thumbnails live inside the drop box -->
              <div id="gallery" class="gallery inside"></div>
            </div>
          </div>

          <div class="actions">
            <button id="save-draft" class="btn success"><i class="i i-save"></i> Spara utkast</button>
            <button id="clear-all" class="btn soft">Rensa allt</button>
            <button id="copy-all" class="btn primary">Kopiera allt</button>
          </div>

          <div class="divider"></div>

          <div class="drafts">
            <h3 class="h3">Tidigare utkast</h3>
            <div id="draft-list" class="draft-list"></div>
          </div>

        </div>
      </div>
    </section>

    <!-- Center: preview (subtle quality) -->
    <section class="pane center">
      <div class="card tall">
        <div class="card-head"><h2>F√∂rhandsvisning</h2></div>
        <div class="card-body preview" id="preview">
          <div class="ph-title">Din titel visas h√§r</div>
          <div class="ph-price">‚Äî kr ‚Ä¢ Skick: ‚Äî</div>
          <div class="ph-desc">Beskrivning f√∂rhandsvisas h√§r ‚Ä¶</div>
          <div class="ph-photos" id="preview-photos">Bilder visas h√§r</div>

          <div class="quality card-lite subtle">
            <div class="q-top">
              <div class="q-score" id="q-score">72</div>
              <div class="q-label">Kvalitet</div>
            </div>
            <ul class="q-suggestions" id="q-suggestions">
              <li>L√§gg till minst 3 bilder (+8)</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Right: marketplaces + sold -->
    <section class="pane right">
      <div class="card">
        <div class="card-head"><h2>V√§lj Marknadsplats</h2></div>
        <div class="card-body">
          <p class="pub-sub">Anv√§nd knapparna f√∂r att √∂ppna varje marknadsplats och markera som klar n√§r du √§r f√§rdig.</p>

          <div class="site-progress" id="site-progress">
            <div class="site-status">
              <div class="site-status-icon" id="tradera-status"></div><span>Tradera</span>
            </div>
            <div class="site-status">
              <div class="site-status-icon" id="blocket-status"></div><span>Blocket</span>
            </div>
            <div class="site-status">
              <div class="site-status-icon" id="facebook-status"></div><span>Facebook</span>
            </div>
            <div class="site-status">
              <div class="site-status-icon" id="ebay-status"></div><span>eBay</span>
            </div>
          </div>

          <div class="progress-text" id="progress-text">0% slutf√∂rt</div>

          <div class="marketplace-list">
            <div class="marketplace-item" data-market="tradera">
              <div class="marketplace-info">
                <div class="m-title">Tradera</div><div class="m-sub">Sveriges st√∂rsta auktionssajt</div>
              </div>
              <div class="action-buttons">
                <button class="pill open" data-open="tradera">√ñppna</button>
                <button class="pill complete-btn" data-complete="tradera">Klar</button>
              </div>
            </div>

            <div class="marketplace-item" data-market="blocket">
              <div class="marketplace-info">
                <div class="m-title">Blocket</div><div class="m-sub">Sveriges ledande annonsplattform</div>
              </div>
              <div class="action-buttons">
                <button class="pill open" data-open="blocket">√ñppna</button>
                <button class="pill complete-btn" data-complete="blocket">Klar</button>
              </div>
            </div>

            <div class="marketplace-item" data-market="facebook">
              <div class="marketplace-info">
                <div class="m-title">Facebook Marketplace</div><div class="m-sub">Miljontals anv√§ndare varje dag</div>
              </div>
              <div class="action-buttons">
                <button class="pill open" data-open="facebook">√ñppna</button>
                <button class="pill complete-btn" data-complete="facebook">Klar</button>
              </div>
            </div>

            <div class="marketplace-item" data-market="ebay">
              <div class="marketplace-info">
                <div class="m-title">eBay</div><div class="m-sub">Global marknadsplats</div>
              </div>
              <div class="action-buttons">
                <button class="pill open" data-open="ebay">√ñppna</button>
                <button class="pill complete-btn" data-complete="ebay">Klar</button>
              </div>
            </div>
          </div>

          <div class="sold-wrap">
            <button id="mark-sold" class="btn warn sold-btn">Markera som S√•ld üéâ</button>
          </div>

        </div>
      </div>
    </section>
  </main>

  <footer class="app-footer"><div class="foot">¬© AnnonsV√§n Pro</div></footer>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-backdrop" data-lightbox-close></div>
    <div class="lightbox-inner" role="dialog" aria-modal="true">
      <img id="lightbox-image" alt="F√∂rhandsvisning"/>
      <div class="lightbox-tools">
        <button class="pill" id="lb-prev" title="F√∂reg√•ende">‚óÄ</button>
        <button class="pill" id="lb-rotate" title="Rotera 90¬∞">‚ü≥</button>
        <button class="pill" id="lb-next" title="N√§sta">‚ñ∂</button>
        <button class="pill warn" id="lb-close" title="St√§ng">‚úï</button>
      </div>
    </div>
  </div>

  <canvas id="confetti" class="confetti"></canvas>
  <div class="toast" id="toast" role="status" aria-live="polite">Sparat</div>

  <script src="scripts.js"></script>
</body>
</html>
