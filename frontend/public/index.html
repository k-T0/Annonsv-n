<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AnnonsVÃ¤n Pro â€” Studio</title>
  <meta name="backend" content="https://annonsv-n.onrender.com"/>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@700;800&family=Inter:wght@400;500;600&family=Source+Serif+4:wght@500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css"/>
</head>
<body class="gradient-background">
  <div class="page-veil" aria-hidden="true"></div>

  <header class="app-header">
    <div class="brand">
      <h1 class="logo"><span>AnnonsVÃ¤n Pro</span></h1>
      <div class="mode-switch">
        <button id="quick-sell" class="btn pill active" aria-pressed="true">Quick Sell</button>
        <button id="pro-mode" class="btn pill">Pro Mode</button>
      </div>
    </div>
    <p class="sub">Skapa annons. SÃ¤lj snabbare.</p>
  </header>

  <main class="shell">
    <!-- Left -->
    <section class="pane left">
      <div class="card">
        <div class="card-head"><h2>Annons & Utkast</h2></div>
        <div class="card-body">
          <div class="field">
            <label for="title">Titel*</label>
            <div class="input-wrap">
              <input id="title" type="text" placeholder="T.ex. ASUS RTX 3080 Ti"/>
              <button class="pill ghost" data-copy="title" title="Kopiera titel">Kopiera</button>
            </div>
          </div>

          <div class="row">
            <div class="field">
              <label for="price">Pris (SEK)*</label>
              <div class="input-wrap">
                <input id="price" type="number" inputmode="numeric" placeholder="T.ex. 4000"/>
                <button class="pill ghost" data-copy="price" title="Kopiera pris">Kopiera</button>
              </div>
            </div>
            <div class="field">
              <label for="condition">Skick*</label>
              <select id="condition">
                <option value="">VÃ¤lj skickâ€¦</option>
                <option>Nytt</option><option>Som nytt</option>
                <option>Mycket bra</option><option>AnvÃ¤nt</option>
              </select>
            </div>
          </div>

          <hr class="divider"/>

          <div class="field">
            <label for="description">Beskrivning*</label>
            <div class="input-wrap">
              <textarea id="description" placeholder="AI genererar hÃ¤r â€¦"></textarea>
              <button class="pill ghost" data-copy="description" title="Kopiera beskrivning">Kopiera</button>
            </div>
            <div class="ai-group">
              <button class="btn ai primary" data-style="minimal" aria-label="AI generera minimal">AI: Minimal</button>
              <button class="btn ai primary" data-style="simple" aria-label="AI generera enkel">AI: Enkel</button>
              <button class="btn ai primary" data-style="detailed" aria-label="AI generera detaljerad">AI: Detaljerad</button>
            </div>
            <div class="ai-secondary quick-hide">
              <button class="btn soft" id="improve">FÃ¶rbÃ¤ttra</button>
              <button class="btn soft" id="summarize">FÃ¶rkorta</button>
            </div>
          </div>

          <div class="row quick-hide">
            <div class="field">
              <label for="tags">Taggar</label>
              <div class="input-wrap">
                <input id="tags" type="text" placeholder="Komma-separerade"/>
                <button class="pill ghost" data-copy="tags" title="Kopiera taggar">Kopiera</button>
              </div>
              <div id="tag-chips" class="tag-chips quick-hide"></div>
              <button id="gen-tags" class="btn soft small quick-hide">Generera taggar med AI</button>
            </div>
            <div class="field pro-only">
              <label for="city">Ort (valfritt)</label>
              <input id="city" type="text" placeholder="T.ex. Stockholm eller MalmÃ¶"/>
            </div>
          </div>

          <div class="field pro-only">
            <label for="notes">AnmÃ¤rkningar (valfritt)</label>
            <textarea id="notes" class="notes" placeholder="Kort fakta: originalkartong saknas, garanti kvar â€¦"></textarea>
          </div>

          <hr class="divider"/>

          <div class="field">
            <label for="photos">Bilder</label>

            <!-- Single dropzone; gallery inside -->
            <div id="drop" class="dropzone big" tabindex="0" aria-label="Ladda upp bilder">
              <input id="photos" type="file" accept="image/*" multiple aria-hidden="true"/>
              <div class="drop-inner">
                <div class="drop-title">Dra & slÃ¤pp bilder hÃ¤r â€” eller klicka</div>
                <div class="hint">PNG/JPG, max 10 â€¢ komprimeras automatiskt</div>
              </div>

              <div id="gallery" class="gallery inside"></div>

              <!-- NEW: drag pill that carries ALL files out of the app -->
              <button id="drag-all" class="drag-all" draggable="true" title="Dra alla bilder till en marknadsplats">â‡ª</button>
            </div>
          </div>

          <div class="actions">
            <button id="save-draft" class="btn success">Spara utkast</button>
            <button id="clear-all" class="btn soft">Rensa allt</button>
            <button id="copy-all" class="btn primary">Kopiera allt</button>
          </div>

          <hr class="divider"/>

          <div class="drafts">
            <h3 class="h3">Tidigare utkast</h3>
            <div id="draft-list" class="draft-list"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Center -->
    <section class="pane center">
      <div class="card tall">
        <div class="card-head"><h2>FÃ¶rhandsvisning</h2></div>
        <div class="card-body preview" id="preview">
          <div class="ph-title">Din titel visas hÃ¤r</div>
          <div class="ph-price">â€” kr â€¢ Skick: â€”</div>

          <div class="preview-hero" id="preview-hero"></div>
          <div class="preview-strip" id="preview-strip"></div>

          <div class="ph-desc">Beskrivning fÃ¶rhandsvisas hÃ¤r â€¦</div>

          <div class="quality card-lite subtle">
            <div class="q-top"><div class="q-score" id="q-score">0</div><div class="q-label">Kvalitet</div></div>
            <ul class="q-suggestions" id="q-suggestions"><li>LÃ¤gg till titel (+10)</li></ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Right -->
    <section class="pane right">
      <div class="card">
        <div class="card-head"><h2>VÃ¤lj Marknadsplats</h2></div>
        <div class="card-body">
          <p class="pub-sub">Ã–ppna varje marknadsplats och markera som klar nÃ¤r du Ã¤r fÃ¤rdig.</p>

          <div class="site-progress" id="site-progress">
            <div class="site-status"><div class="site-status-icon" id="tradera-status"></div><span>Tradera</span></div>
            <div class="site-status"><div class="site-status-icon" id="blocket-status"></div><span>Blocket</span></div>
            <div class="site-status"><div class="site-status-icon" id="facebook-status"></div><span>Facebook</span></div>
            <div class="site-status"><div class="site-status-icon" id="ebay-status"></div><span>eBay</span></div>
          </div>

          <div class="progress-text" id="progress-text">0% slutfÃ¶rt</div>

          <div class="marketplace-list">
            <div class="marketplace-item tradera" data-market="tradera">
              <div class="marketplace-info">
                <div class="m-icon" aria-hidden="true">
                  <img src="/gallery/icons/tradera.svg" alt="" />
                </div>
                <div class="m-text">
                  <div class="m-title">Tradera</div>
                  <div class="m-sub">Sveriges stÃ¶rsta auktionssajt</div>
                </div>
              </div>
              <div class="action-buttons">
                <button class="pill open" data-open="tradera">Ã–ppna â†—</button>
                <button class="pill complete-btn" data-complete="tradera" aria-pressed="false">Klar âœ“</button>
              </div>
            </div>

            <div class="marketplace-item blocket" data-market="blocket">
              <div class="marketplace-info">
                <div class="m-icon" aria-hidden="true">
                  <img src="/gallery/icons/blocket.svg" alt="" />
                </div>
                <div class="m-text">
                  <div class="m-title">Blocket</div>
                  <div class="m-sub">Sveriges ledande annonsplattform</div>
                </div>
              </div>
              <div class="action-buttons">
                <button class="pill open" data-open="blocket">Ã–ppna â†—</button>
                <button class="pill complete-btn" data-complete="blocket" aria-pressed="false">Klar âœ“</button>
              </div>
            </div>

            <div class="marketplace-item facebook" data-market="facebook">
              <div class="marketplace-info">
                <div class="m-icon" aria-hidden="true">
                  <img src="/gallery/icons/facebook.svg" alt="" />
                </div>
                <div class="m-text">
                  <div class="m-title">Facebook Marketplace</div>
                  <div class="m-sub">Miljontals anvÃ¤ndare varje dag</div>
                </div>
              </div>
              <div class="action-buttons">
                <button class="pill open" data-open="facebook">Ã–ppna â†—</button>
                <button class="pill complete-btn" data-complete="facebook" aria-pressed="false">Klar âœ“</button>
              </div>
            </div>

            <div class="marketplace-item ebay" data-market="ebay">
              <div class="marketplace-info">
                <div class="m-icon" aria-hidden="true">
                  <img src="/gallery/icons/ebay.svg" alt="" />
                </div>
                <div class="m-text">
                  <div class="m-title">eBay</div>
                  <div class="m-sub">Global marknadsplats</div>
                </div>
              </div>
              <div class="action-buttons">
                <button class="pill open" data-open="ebay">Ã–ppna â†—</button>
                <button class="pill complete-btn" data-complete="ebay" aria-pressed="false">Klar âœ“</button>
              </div>
            </div>
          </div>

          <div class="sold-wrap">
            <button id="mark-sold" class="btn warn sold-btn" aria-pressed="false">Markera som SÃ¥ld ðŸŽ‰</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="app-footer"><div class="foot">Â© AnnonsVÃ¤n Pro</div></footer>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-backdrop" data-lightbox-close></div>
    <div class="lightbox-inner" role="dialog" aria-modal="true">
      <img id="lightbox-image" alt="FÃ¶rhandsvisning"/>
      <div class="lightbox-tools">
        <button class="pill" id="lb-prev" title="FÃ¶regÃ¥ende">â—€</button>
        <button class="pill" id="lb-rotate" title="Rotera 90Â°">âŸ³</button>
        <button class="pill" id="lb-next" title="NÃ¤sta">â–¶</button>
        <button class="pill warn" id="lb-close" title="StÃ¤ng">âœ•</button>
      </div>
    </div>
  </div>

  <canvas id="confetti" class="confetti"></canvas>
  <div class="toast" id="toast" role="status" aria-live="polite">Sparat</div>

  <script src="scripts.js"></script>
</body>
</html>
